# -*- coding: utf-8 -*-
"""
개선된 엑셀 파일에서 생성된 완전한 차치업무 데이터
모든 세부항목2 포함
"""

# 계층적 차치업무 데이터 구조 (완전판)
HIERARCHICAL_WORK_DATA = {'수리': {'name': '수리', 'description': '수리 관련 업무', 'keywords': ['수리'], 'subcategories': {'의료기기': {'name': '의료기기', 'description': '의료기기 관련', 'keywords': ['의료기기'], 'sub_items': {'기본_의료기기': {'name': '의료기기', 'request_method': 'DARWIN 원내공통 → 의료기기 관리 → 의료기기 수리 요청 등록 → 의료기기명 클릭 후 보조원님께 의공 내려달라고 요청, 접수증 보관', 'contact': '의공기술실 T.9233', 'free_text': 'EKG(심전도), OXIMETER(산소포화도), INPUSION PUMP(인퓨전펌프), HFNC, NIBP MONITOR, \nDEFIBRILLATOR, WASHER(워셔), 체중침대,\nAMBU SET(엠부), NEBULIZER(네뷸라이저), SUCTION UNIT/REGULATOR(석션), PORTABLE SUCTION, O2 RESPY, O2 FLOWMETER, 혈압계(자동 혈압계 포함), 청진기, 체중계, 저울', 'note': ''}}}, '일반적인_수리_업무': {'name': '일반적인 수리 업무', 'description': '일반적인 수리 업무 관련', 'keywords': ['일반적인 수리 업무'], 'sub_items': {'기본_일반적인_수리_업무': {'name': '일반적인 수리 업무', 'request_method': '고장신고접수 홈페이지 이용 또는 유선 연락하여 수리 의뢰', 'contact': '고장신고접수 홈페이지 이용 또는 유선 연락하여 수리 의뢰\n인프라엔지니어링팀(시설팀) T.9115', 'free_text': '일반적인 수리 업무', 'note': ''}}}, '의료기기_외': {'name': '의료기기 외', 'description': '의료기기 외 관련', 'keywords': ['의료기기 외'], 'sub_items': {'기본_의료기기_외': {'name': '의료기기 외', 'request_method': 'DARWIN 의사소통 → 간호행정양식 → 수리(집기, 의료비품) → 수리의뢰서 작성 → 보조원님께 건축사무실 내려달라고 요청', 'contact': '건축사무실 T.9985', 'free_text': '보호자침대, 이동카, 시계, 널싱카트, \n의자, 책상, 폴대, 침대 테이블, Portable O2', 'note': ''}}}, '전자기기': {'name': '전자기기', 'description': '전자기기 관련', 'keywords': ['전자기기'], 'sub_items': {'기본_전자기기': {'name': '전자기기', 'request_method': '유선 연락하여 수리 의뢰', 'contact': '유선 연락하여 수리 의뢰\n정보지원팀 T.3217', 'free_text': 'PC, 프린터, 바코드기기, 마우스, RFID 기계, \n노트북, 노트북 충전기', 'note': ''}}}, '통신기기': {'name': '통신기기', 'description': '통신기기 관련', 'keywords': ['통신기기'], 'sub_items': {'기본_통신기기': {'name': '통신기기', 'request_method': '유선 연락하여 수리 의뢰', 'contact': '유선 연락하여 수리 의뢰\n통신실 T.3333', 'free_text': '전화기, IP phone, WIFI 공유기 대여', 'note': ''}}}, '전자제품': {'name': '전자제품', 'description': '전자제품 관련', 'keywords': ['전자제품'], 'sub_items': {'기본_전자제품': {'name': '전자제품', 'request_method': '유선 연락하여 수리 의뢰', 'contact': '유선 연락하여 수리 의뢰\n전기실 T.9970', 'free_text': 'TV(리모콘 포함), 냉장고, Call bell', 'note': ''}}}, 'BST_기계': {'name': 'BST 기계', 'description': 'BST 기계 관련', 'keywords': ['bst 기계'], 'sub_items': {'기본_BST_기계': {'name': 'BST 기계', 'request_method': 'knox 게시 → 회사양식함 → [POCT]혈당측정기 수리 의뢰서 작성 후 출력하여 내리기\n(전자 결재 필요없음)', 'contact': '진단검사 의학과 검사지원실(본관2층) T.6439', 'free_text': 'BST 기계', 'note': ''}}}, '커튼레일': {'name': '커튼레일', 'description': '커튼레일 관련', 'keywords': ['커튼레일'], 'sub_items': {'기본_커튼레일': {'name': '커튼레일', 'request_method': '유선 연락하여 수리 의뢰', 'contact': '유선 연락하여 수리 의뢰\n자재파트 소모품 담당자 T.2877', 'free_text': '참고> 커튼 수리: 자재파트', 'note': ''}}}, 'BPOC,_NIBP_QR코드': {'name': 'BPOC, NIBP QR코드', 'description': 'BPOC, NIBP QR코드 관련', 'keywords': ['bpoc, nibp qr코드'], 'sub_items': {'기본_BPOC,_NIBP_QR코드': {'name': 'BPOC, NIBP QR코드', 'request_method': '유선 연락하여 수리 의뢰', 'contact': '유선 연락하여 수리 의뢰\nBPOC help desk T.6534', 'free_text': 'BPOC 고장 및 업데이트,\nNIBP QR코드 재발급', 'note': ''}}}}}, '물품': {'name': '물품', 'description': '물품 관련 업무', 'keywords': ['물품'], 'subcategories': {'물품별_구매형태_조회': {'name': '물품별 구매형태 조회', 'description': '물품별 구매형태 조회 관련', 'keywords': ['물품별 구매형태 조회'], 'sub_items': {'기본_물품별_구매형태_조회': {'name': '물품별 구매형태 조회', 'request_method': 'DARWIN [물품청구 및 구매의뢰] → [물품별 공급형태 조회] 또는 [구분] 탭의 각 항목을 클릭', 'contact': '', 'free_text': '물품별 구매형태 조회', 'note': ''}}}, '구매의뢰\nCPOE에_등록되지_않은_물품': {'name': '구매의뢰\n(CPOE에 등록되지 않은 물품)', 'description': '구매의뢰\n(CPOE에 등록되지 않은 물품) 관련', 'keywords': ['구매의뢰\n(cpoe에 등록되지 않은 물품)'], 'sub_items': {'기본_구매의뢰\nCPOE에_등록되지_않은_물품': {'name': '구매의뢰\n(CPOE에 등록되지 않은 물품)', 'request_method': "C10E 공급요일: 화/목/토\n(업체에서 직접 배송되는 물품의 경우 몇 일~수주 걸쳐 불출 될 수 있음)\n\n※ 응급불출/다음공급일 신청:\nDARWIN [물품청구 및 구매의뢰] → [구매.차용신청] → 물품 코드 입력 → 신청 수량 입력 → 우측 상단 '물품 추가' (결재자: 본인) → 결재 상신\n\n※ 과거 신청한 부서 물품 조회:\n우측 하단 [물품 신청 조회] → 신청 일자 별 조회 가능\n\n※ 물품 코드가 막혀 있어 구매의뢰 불가능한 경우", 'contact': '자재과(T.3345) 연락 후 담당자가 코드 열어주면 입력 가능', 'free_text': 'MU-TERASIL(뮤테라실), FEEDING BAG(피딩백), FEEDING TUBE(피딩 라인), HEIMRICH BAG(하임리히백), KARAHOC(카라혹), SUCTION CATHETER(석션카테터), CATHETER NELATON(넬라톤 카테터), L-TUBE(LEVIN TUBE), LATEX GLOVE(라텍스 장갑), EB BAND(붕대), PCA LINE, 설압자, PVC LINE, EKG PAPER(EKG 종이), 경구용 약컵, 귀마개, SPILL KIT, EASYDEW(이지듀 크림), BABY KIT(액와 체온계), 일회용 면도기, NEBULIZER FILTER, NEBULIZER CONNECTOR', 'note': ''}}}, 'CPOE_\n처치_입력_시_불출': {'name': 'CPOE \n(처치 입력 시 불출)', 'description': 'CPOE \n(처치 입력 시 불출) 관련', 'keywords': ['cpoe \n(처치 입력 시 불출)'], 'sub_items': {'기본_CPOE_\n처치_입력_시_불출': {'name': 'CPOE \n(처치 입력 시 불출)', 'request_method': 'C10E 공급요일: 화/목/토\n\n※ 당일 필요한 처치 재료(환자별)\n환자에게 처치 입력 후 출력 → Delivery 보조원 의뢰\n\n※ 진료 재료 반납: 매월 15일\nDARWIN [물품 청구] → 부서별 물품 반납 신청 → [결재자(부서장/ 통보장(자재파트)] 지정 후 부서장 결재', 'contact': '', 'free_text': 'CPOE \n(처치 입력 시 불출)', 'note': ''}}}, '정수보충\n정수에_맞추어_추가로_채워주는_물품': {'name': '정수보충\n(정수에 맞추어 추가로 채워주는 물품)', 'description': '정수보충\n(정수에 맞추어 추가로 채워주는 물품) 관련', 'keywords': ['정수보충\n(정수에 맞추어 추가로 채워주는 물품)'], 'sub_items': {'기본_정수보충\n정수에_맞추어_추가로_채워주는_물품': {'name': '정수보충\n(정수에 맞추어 추가로 채워주는 물품)', 'request_method': '※ 기본 정수 조정이 필요한 경우\nDARWIN [원내 공통 → 구매/청구 → 물품 청구 → 부서별 정수량 변경 신청] 에서 가능', 'contact': '', 'free_text': '정수보충\n(정수에 맞추어 추가로 채워주는 물품)', 'note': ''}}}, '정수교환\n일정한_날에_일괄_새로운_것으로_교환': {'name': '정수교환\n(일정한 날에 일괄 새로운 것으로 교환)', 'description': '정수교환\n(일정한 날에 일괄 새로운 것으로 교환) 관련', 'keywords': ['정수교환\n(일정한 날에 일괄 새로운 것으로 교환)'], 'sub_items': {'기본_정수교환\n일정한_날에_일괄_새로운_것으로_교환': {'name': '정수교환\n(일정한 날에 일괄 새로운 것으로 교환)', 'request_method': 'C10E 공급요일: 화/금\n\n※ 기본 정수 조정이 필요한 경우\nDARWIN [원내 공통 → 구매/청구 → 물품 청구 → 부서별 정수량 변경 신청] 에서 가능', 'contact': '', 'free_text': 'LAB bottle, 24HR URINE BAG, BD Micro-Fine+ Pen Needle(인슐린펜 needle), SPECIMEN BOTTLE(urine 검체통), STOOL BOX(stool 검체통), CONICAL TUBE(sputum 검체통), TRANSPORT MEDIUM(rectal swab), 일회용자동란셋, SCALP NEEDLE(나비 니들), ABGA SYRINGE, OXYGEN TUBING(O2 line), All Silicone Levin Tube(16Fr, 18Fr), KIATO STAINLESS STEEL SURGICAL BLADE(블레이드), SUPERCOUNDUCTIVE GEL(초음파 겔), 에이스 밴드 에스(반창고), 3WAY, Nasal Cannula, ORAL AIRWAY(OPA), DURAPORE(실크 플라스타), SURGICAL JELLY(다회용 윤활제), PLASTER PAPER(종이 플라스타), RFID TAG 스티커용 시계형 손목밴드(일반용/낙상용 환자팔찌), CONNECTOR(일자형, Y형), O2 MASK', 'note': '** CONICAL TUBE(그람스테인 컬쳐용), Sterile Lubricant PROGEL(일회용 윤활제), Accu Check strip(혈당기 strip) 은 요일이 정해져있지 않음..'}}}}}, '인쇄물': {'name': '인쇄물', 'description': '인쇄물 관련 업무', 'keywords': ['인쇄물'], 'subcategories': {'환자교육자료': {'name': '환자교육자료', 'description': '환자교육자료 관련', 'keywords': ['환자교육자료'], 'sub_items': {'신청방법': {'name': '신청방법', 'request_method': 'DARWIN-원내공통-물품청구 및 구매의뢰-입력', 'contact': '', 'free_text': '병원생활안내, 퇴원절차안내문, 낙상예방자료, 낙상체크리스트, 욕창예방자료, 자세변경표 등', 'note': ''}, '신청일': {'name': '신청일', 'request_method': '매월 1~3일, 15~17일 (휴일, 주말 상관없음)', 'contact': '', 'free_text': '신청일', 'note': ''}, '불출일': {'name': '불출일', 'request_method': '15일, 30일', 'contact': '', 'free_text': '불출일', 'note': ''}, '신청담당자': {'name': '신청담당자', 'request_method': '파트장', 'contact': '', 'free_text': '신청담당자', 'note': ''}}}, '바코드,검사용지': {'name': '바코드,검사용지', 'description': '바코드,검사용지 관련', 'keywords': ['바코드,검사용지'], 'sub_items': {'신청방법': {'name': '신청방법', 'request_method': 'DARWIN-원내공통-물품청구 및 구매의뢰-입력', 'contact': '', 'free_text': '바코드롤, 투약라벨, I/O 용지, 진료예약신청서, 제세동기 paper, EKG 용지, CPR 기록지, 인슐린 주사방법 등', 'note': ''}, '신청일': {'name': '신청일', 'request_method': '매월 1~3일, 15~17일 (휴일, 주말 상관없음)', 'contact': '', 'free_text': '신청일', 'note': ''}, '불출일': {'name': '불출일', 'request_method': '15일, 30일', 'contact': '', 'free_text': '불출일', 'note': ''}, '신청담당자': {'name': '신청담당자', 'request_method': '파트장', 'contact': '', 'free_text': '신청담당자', 'note': ''}}}, 'A4용지': {'name': 'A4용지', 'description': 'A4용지 관련', 'keywords': ['a4용지'], 'sub_items': {'기본_A4용지': {'name': 'A4용지', 'request_method': '신청 없이 15일 정수공급', 'contact': '', 'free_text': 'A4용지', 'note': ''}}}, '책자_및_리플릿': {'name': '책자 및 리플릿', 'description': '책자 및 리플릿 관련', 'keywords': ['책자 및 리플릿'], 'sub_items': {'암종별_소책자__PICC__홈펌프_책자': {'name': '암종별 소책자, PICC, 홈펌프 책자', 'request_method': 'knox-결재-회사양식함-암교육팀교육자료신청서', 'contact': '', 'free_text': '암종별 소책자, PICC, 홈펌프 책자', 'note': ''}, '배액관_관리방법PCD__PTBD': {'name': '배액관 관리방법(PCD, PTBD)', 'request_method': 'C07E(대표신청병동) 유선 연락 후 수령', 'contact': 'C07E(대표신청병동) 유선 연락 후 수령', 'free_text': '배액관 관리방법(PCD, PTBD)', 'note': ''}, '가정간호_팜플릿': {'name': '가정간호 팜플릿', 'request_method': '가정간호실 연락 후 수령', 'contact': '가정간호실 연락 후 수령', 'free_text': '가정간호 팜플릿', 'note': ''}, '호스피스__사전연명의료_팜플릿': {'name': '호스피스, 사전연명의료 팜플릿', 'request_method': '암치유센터 연락 후 수령', 'contact': '암치유센터 연락 후 수령', 'free_text': '호스피스, 사전연명의료 팜플릿', 'note': ''}, '감염_관련_3단_안내지': {'name': '감염 관련 3단 안내지', 'request_method': '감염관리실 연락 후 수령, 감염 tab에서 인쇄', 'contact': '감염관리실 연락 후 수령, 감염 tab에서 인쇄', 'free_text': '감염 관련 3단 안내지', 'note': ''}}}, '그_외': {'name': '그 외', 'description': '그 외 관련', 'keywords': ['그 외'], 'sub_items': {'기본_그_외': {'name': '그 외', 'request_method': 'knox-게시-양식함\ndarwin-간호행정양식\n병동 S-disk 등에 검색', 'contact': '', 'free_text': '그 외', 'note': ''}}}}}, '제제약/수액': {'name': '제제약/수액', 'description': '제제약/수액 관련 업무', 'keywords': ['제제약/수액'], 'subcategories': {'제제약_종류': {'name': '제제약 종류', 'description': '제제약 종류 관련', 'keywords': ['제제약 종류'], 'sub_items': {'기본_제제약_종류': {'name': '제제약 종류', 'request_method': 'ANIOS-L Aniosurf Premium NPC(R) 1L\nANIXL-L Aniosyme X3® 1L\nBIOSP Biospot\nCLES-L Clesis(R) 500ml(카트 손소독제)\nCLES1-L Clesis(R) 1L(병실 앞 손소독제)\nCXPM1-L 0.5% CHL.HEXIDINE 100ml\nCXQ-L 4% CHL. HEXIDINE 물비누\nCXUM5-L 2% chlorhexidine alcohol\nGLY4-L GLYCERINE 50% 40cc\nPI1-L 10% POVIDONE\nPI11-L 1% POVIDONE\nX2LID5 2% LIDOCAINE 100mg/5ml\nXLID2 2% LIDOCAINE 400mg/20ml', 'contact': '', 'free_text': '제제약 종류', 'note': ''}}}, '제제약_신청방법': {'name': '제제약 신청방법', 'description': '제제약 신청방법 관련', 'keywords': ['제제약 신청방법'], 'sub_items': {'기본_제제약_신청방법': {'name': '제제약 신청방법', 'request_method': 'DARWIN-‘약품청구의뢰(약제부)-‘청구보조’ 클릭 후 원하는 약품 청구량 입력 후 등록\n‘약품청구조회(약제부)’ 탭을 통해 청구내역 확인 가능', 'contact': '', 'free_text': '제제약 신청방법', 'note': ''}}}, '제제약_공급일': {'name': '제제약 공급일', 'description': '제제약 공급일 관련', 'keywords': ['제제약 공급일'], 'sub_items': {'기본_제제약_공급일': {'name': '제제약 공급일', 'request_method': '', 'contact': '신청 후 다음날에 올라오며 응급으로 필요한 경우 T.6089 제제실 전화 후 보조원님 통해 직접 가지러 가기', 'free_text': '제제약 공급일', 'note': ''}}}, '수액_청구_배송일': {'name': '수액 청구 배송일', 'description': '수액 청구 배송일 관련', 'keywords': ['수액 청구 배송일'], 'sub_items': {'기본_수액_청구_배송일': {'name': '수액 청구 배송일', 'request_method': '주중 11AM까지 전산 입력하면 3-4pm 경 당일 배송, 이후 입력한 수량은 다음날 배송', 'contact': '', 'free_text': '수액 청구 배송일', 'note': ''}}}, '수액_응급_청구_방법': {'name': '수액 응급 청구 방법', 'description': '수액 응급 청구 방법 관련', 'keywords': ['수액 응급 청구 방법'], 'sub_items': {'기본_수액_응급_청구_방법': {'name': '수액 응급 청구 방법', 'request_method': '주말이나 정규 수액 신청 외에 수액 신청 시 DARWIN-‘COCK 약품청구의뢰’ 화면에서 수액 입력 후 왼쪽 하단 청구의뢰수정-청구 번호 click 하여 해당 청구 번호 선택 후 청구리스트 출력하여 보조원님 통해 청구리스트 제출하고 수액 창고에서 가지고 오기 (평일 day가 추가로 수액 입력할 필요 없음)', 'contact': '', 'free_text': '수액 응급 청구 방법', 'note': ''}}}, '꼬마병_종류_신청방법_공급일': {'name': '꼬마병 종류/신청방법/공급일', 'description': '꼬마병 종류/신청방법/공급일 관련', 'keywords': ['꼬마병 종류/신청방법/공급일'], 'sub_items': {'기본_꼬마병_종류_신청방법_공급일': {'name': '꼬마병 종류/신청방법/공급일', 'request_method': 'XWI20 WATER AMPLE/20ml\nXNA40 NACL 40/20ml\nXNS20 0.9% NORMAL SALINE\nXNS30 대한생리식염주사액(1BOX=40A)\n수요일마다 ‘COCK 약품 청구’ 통해 신청하며(신청단위 box) 매주 목요일 오후에 딜리버리 보조원님 통해 올라옴', 'contact': '', 'free_text': '꼬마병 종류/신청방법/공급일', 'note': ''}}}, '수액_반납_및_교환': {'name': '수액 반납 및 교환', 'description': '수액 반납 및 교환 관련', 'keywords': ['수액 반납 및 교환'], 'sub_items': {'기본_수액_반납_및_교환': {'name': '수액 반납 및 교환', 'request_method': 'DARWIN – ‘물품청구 및 구매의뢰’ – 좌측 하단 ‘COCK 반납 신청’에서 반품 수액 입력 후 ‘임시저장’ -> 저장 -> ‘COCK 반품 관리’ -> 반품 번호 옆 돋보기 버튼 클릭하여 반품 번호 조회 -> 리스트 출력하여 반품 수액에 붙여두면 수거해감.(유효기간 6개월 이내면 반납 불가)', 'contact': '', 'free_text': '수액 반납 및 교환', 'note': ''}}}}}, '멸균품/거즈': {'name': '멸균품/거즈', 'description': '멸균품/거즈 관련 업무', 'keywords': ['멸균품/거즈'], 'subcategories': {'거즈_공급일': {'name': '거즈 공급일', 'description': '거즈 공급일 관련', 'keywords': ['거즈 공급일'], 'sub_items': {'기본_거즈_공급일': {'name': '거즈 공급일', 'request_method': '월~토요일 주 6일, 매일 자동청구로 올라옴. 아침마다 병동 거즈 수량 확인 후 개수 조정이 필요\nDARWIN-‘멸균품 청구’-‘멸균소모품’\nS70404 gauze 2*2(2) 5개\nS70407 gauze 4*3(2) 10개\nS70408 gauze 4*3(6) 20개\nS70410 gauze 4*8(5) 20개', 'contact': '', 'free_text': '거즈 공급일', 'note': ''}}}, '멸균품_응급_청구_방법': {'name': '멸균품 응급 청구 방법', 'description': '멸균품 응급 청구 방법 관련', 'keywords': ['멸균품 응급 청구 방법'], 'sub_items': {'기본_멸균품_응급_청구_방법': {'name': '멸균품 응급 청구 방법', 'request_method': 'DARWIN-‘멸균품 청구’-‘응급’ 탭을 이용하여 필요한 멸균품 코드를 입력하여 신청, 대차로 물품이 올라옴 (응급물품 청구가능시간 07:00~17:00)\n우리병동 다빈도 응급 청구 물품 : S40208 BOWL(8호) 500cc', 'contact': '', 'free_text': '멸균품 응급 청구 방법', 'note': ''}}}, '정수_교환_멸균_물품_종류': {'name': '정수 교환 멸균 물품 종류', 'description': '정수 교환 멸균 물품 종류 관련', 'keywords': ['정수 교환 멸균 물품 종류'], 'sub_items': {'기본_정수_교환_멸균_물품_종류': {'name': '정수 교환 멸균 물품 종류', 'request_method': 'S10103 SET, ASPIRATION 4개\nS10601 SET, FOLEY CATH. 4개\nS10901 SET, INCISION 1개\nS11304 SET, SUCTION 2개\nS11305 SET, SUTURE 1개\nS40101 BASIN, KIDNEY (250cc) 1개\nS40307 CLAMP, TUBE 2개\nS41503 SCISSORS(ST) 2개\nS41620 STAPLE REMOVER 2개\nS41904 TRAY(44-01072) 255*165*50 INJECTION 8개\nS41908 TRAY(44-0304) 360*320*60 3개\nS41909 TRAY(44-0306) 280*220*55 13개', 'contact': '', 'free_text': '정수 교환 멸균 물품 종류', 'note': ''}}}}}, '임종실': {'name': '임종실', 'description': '임종실 관련 업무', 'keywords': ['임종실'], 'subcategories': {'입실기준': {'name': '입실기준', 'description': '입실기준 관련', 'keywords': ['입실기준'], 'sub_items': {'기본_입실기준': {'name': '입실기준', 'request_method': '자문형 호스피스 동의환자\n말기 섬망증상, HFNC 기계 소음(최대 7일) - 섬망 기록 필요\n임종 임박 (최대 4일)', 'contact': '', 'free_text': '입실기준', 'note': ''}}}, '절차': {'name': '절차', 'description': '절차 관련', 'keywords': ['절차'], 'sub_items': {'기본_절차': {'name': '절차', 'request_method': '임종기 판단(진료과)\nCPA 협진(주치의)\n환자 면담 후 격리실 등록(호스피스팀)\n원무과 서명(보호자)', 'contact': '', 'free_text': '절차', 'note': ''}}}, '담당자': {'name': '담당자', 'description': '담당자 관련', 'keywords': ['담당자'], 'sub_items': {'기본_담당자': {'name': '담당자', 'request_method': '호스피스완화의료팀 전문간호사 서미현', 'contact': '', 'free_text': '담당자', 'note': ''}}}}}, '격리실': {'name': '격리실', 'description': '격리실 관련 업무', 'keywords': ['격리실'], 'subcategories': {'VRE': {'name': 'VRE', 'description': 'VRE 관련', 'keywords': ['vre'], 'sub_items': {'새로_발생_시_절차': {'name': '새로 발생 시 절차', 'request_method': '격리물품 세팅\n기본처방 isolation 필요 + 격리병실신청서 작성(의사)\n원무과 통지\nC10E 1/2인실 또는 C08E 825호 배정\n전실/전동 상황 담당간호사와 보조원 공유\nSBAR-P 검체부위, 검사일 정리\n식기소독 의뢰', 'contact': '', 'free_text': '새로 발생 시 절차', 'note': ''}, '대상': {'name': '대상', 'request_method': '3주 이내 VRE 검사결과 있는 환자\n발생검체가 rectal이 아닌 경우 rectal VRE 선별검사 시행', 'contact': '', 'free_text': '대상', 'note': ''}, '환자__보호자_안내': {'name': '환자, 보호자 안내', 'request_method': '격리안내문 제공\n825 전동 안내문 제공\nVRE방 보호자 상주 불가, 남녀 혼실\nVRE방 거절하는 경우 1인실 비용 발생', 'contact': '', 'free_text': '환자, 보호자 안내', 'note': ''}, '퇴실_기준': {'name': '퇴실 기준', 'request_method': '연속 3회 이상 VRE 검출되지 않은 경우\n최종보고일로부터 6개월 이상 추적검사 없는 경우\n퇴원 시 VRE rectal culture 3회 퇴원검사처방 필요', 'contact': '', 'free_text': '퇴실 기준', 'note': ''}, '관련_지침': {'name': '관련 지침', 'request_method': 'VRE 관리지침\nVRE 전용격리실 입퇴실 지침', 'contact': '', 'free_text': '관련 지침', 'note': ''}}}, 'CPE': {'name': 'CPE', 'description': 'CPE 관련', 'keywords': ['cpe'], 'sub_items': {'새로_발생_시_절차': {'name': '새로 발생 시 절차', 'request_method': '환자, 보호자 안내\n격리물품 세팅\n기본처방 isolation 필요 + 격리병실신청서 작성(의사)\n원무과 통지\nC10E 1/2인실 배정\n전실/전동 상황 담당간호사와 보조원 공유\nSBAR-P 검체부위, 검사일 정리\n식기소독 의뢰\n동일 병실 24시간 사용한 환자 대상 접촉자 관리', 'contact': '', 'free_text': '새로 발생 시 절차', 'note': ''}, '대상': {'name': '대상', 'request_method': 'CPE 검출된 경우 CRE screening 시행하여 동일 균주 확인되면 CPE로 간주', 'contact': '', 'free_text': '대상', 'note': ''}, '퇴원_시': {'name': '퇴원 시', 'request_method': '병실 청소(커튼 포함 모든 린넨 교환)\n감염관리실 유선 연락하여 ATP test 후 병실 locking 해제', 'contact': '감염관리실 유선 연락하여 ATP test 후 병실 locking 해제', 'free_text': '퇴원 시', 'note': ''}, '해제_기준': {'name': '해제 기준', 'request_method': 'CPE no growth 이후 6개월간 CRGNB 접촉주의, 주 1회 간격 CRE screening 시행\nCRGNB 분리된 모든 검체에서 각각 3회 연속 음성\n최종보고일로부터 6개월 이상 추적검사 없는 경우', 'contact': '', 'free_text': '해제 기준', 'note': ''}, '관련_지침': {'name': '관련 지침', 'request_method': 'CRGNB 및 CPE 관리지침', 'contact': '', 'free_text': '관련 지침', 'note': ''}}}, '음압격리': {'name': '음압격리', 'description': '음압격리 관련', 'keywords': ['음압격리'], 'sub_items': {'새로_발생_시_절차': {'name': '새로 발생 시 절차', 'request_method': '환자, 보호자 안내\n격리물품 세팅\n기본처방 isolation 필요 + 격리병실신청서 작성(의사)\n원무과 통지\nC10E 1003호 1004호 또는 음압병동 배정\n일반 1인실 전실한경우 인프ENG팀에 연락하여 급기 조정\n전실/전동 상황 담당간호사와 보조원 공유\nSBAR-P 검사일 정리\n매일 음압시설 모니터링', 'contact': '일반 1인실 전실한경우 인프ENG팀에 연락하여 급기 조정', 'free_text': '새로 발생 시 절차', 'note': ''}, '대상': {'name': '대상', 'request_method': 'TB\ndisseminated zoster\nchickenpox\nmeasles', 'contact': '', 'free_text': '대상', 'note': ''}, '관련_지침': {'name': '관련 지침', 'request_method': '결핵균 관리지침\n수두-대상포진 바이러스 관리 지침', 'contact': '', 'free_text': '관련 지침', 'note': ''}}}, 'coronavirus': {'name': 'coronavirus', 'description': 'coronavirus 관련', 'keywords': ['coronavirus'], 'sub_items': {'새로_발생_시_절차': {'name': '새로 발생 시 절차', 'request_method': '확진환자는 최소 7일 마스크 착용\n직원은 환자 대면/접촉 시 마스크 착용 권고', 'contact': '', 'free_text': '새로 발생 시 절차', 'note': ''}, '대상': {'name': '대상', 'request_method': '진료과 판단 하 증상(기침, 발열) 있는 환자\n중증의 증상 보이거나 면역저하자의 경우 격리 연장\n그 외 비말주의로 코호트격리', 'contact': '', 'free_text': '대상', 'note': ''}, '해제_기준': {'name': '해제 기준', 'request_method': '증상 호전 후 24시간 경과 후 또는 격리 종료 결정된 경우 수기 해제', 'contact': '', 'free_text': '해제 기준', 'note': ''}, '관련_지침': {'name': '관련 지침', 'request_method': '소통의창-정보마당-[감염병대응센터] 코로나19 관리_20241021', 'contact': '', 'free_text': '관련 지침', 'note': ''}}}}}, 'ICU 전동': {'name': 'ICU 전동', 'description': 'ICU 전동 관련 업무', 'keywords': ['icu 전동'], 'subcategories': {}}, '신규 back up': {'name': '신규 back up', 'description': '신규 back up 관련 업무', 'keywords': ['신규 back up'], 'subcategories': {}}, '기타': {'name': '기타', 'description': '기타 관련 업무', 'keywords': ['기타'], 'subcategories': {'NEB_filter': {'name': 'NEB filter', 'description': 'NEB filter 관련', 'keywords': ['neb filter'], 'sub_items': {'기본_NEB_filter': {'name': 'NEB filter', 'request_method': '*교환주기: 3개월\n*교환방법: 새 필터로 교체(동전으로 돌리면 filter 제거가능)\n*여분filter 위치: LAB bottle 있는 물품장 윗 칸\n\n535000088 85filter\n535006018 connector', 'contact': '', 'free_text': 'NEB filter', 'note': ''}}}, 'portable_suction_filter': {'name': 'portable suction filter', 'description': 'portable suction filter 관련', 'keywords': ['portable suction filter'], 'sub_items': {'기본_portable_suction_filter': {'name': 'portable suction filter', 'request_method': '*교환주기: 사용 시 일주일마다 교환, 환자 변경 시 교환\n*여분filter 위치: LAB bottle 있는 물품장 윗 칸\n\n여분 없을 시 C09W에서 차용', 'contact': '', 'free_text': 'portable suction filter', 'note': ''}}}, 'QC_물질_변경': {'name': 'QC 물질 변경', 'description': 'QC 물질 변경 관련', 'keywords': ['qc 물질 변경'], 'sub_items': {'기본_QC_물질_변경': {'name': 'QC 물질 변경', 'request_method': '*변경주기: 3개월\n*변경방법: QC물질 있는 중앙서랍 안 종이 참조\n* QC 물질 수령 방법: 평일 진단검사의학과에서 수령', 'contact': '', 'free_text': 'QC 물질 변경', 'note': ''}}}, 'Strip_Lot_변경': {'name': 'Strip Lot 변경', 'description': 'Strip Lot 변경 관련', 'keywords': ['strip lot 변경'], 'sub_items': {'기본_Strip_Lot_변경': {'name': 'Strip Lot 변경', 'request_method': '*변경주기: 기존 Strip Lot 소진 시\n*변경방법: 방법은 QC물질 있는 중앙서랍 안 종이 참조', 'contact': '', 'free_text': 'Strip Lot 변경', 'note': ''}}}}}}

# 기존 호환성을 위한 단순 구조 자동 생성
WORK_CATEGORIES = {}

for category_key, category_data in HIERARCHICAL_WORK_DATA.items():
    keywords = [category_key.lower()]
    responses = []
    
    # 키워드 수집
    for subcat_data in category_data["subcategories"].values():
        keywords.append(subcat_data["name"].lower())
        for item_data in subcat_data["sub_items"].values():
            keywords.extend(item_data["name"].lower().split())
    
    # 응답 생성
    responses.append(f"{category_key} 관련 정보입니다. 세부항목을 선택해주세요.")
    
    WORK_CATEGORIES[category_key] = {
        "keywords": list(set([k for k in keywords if k and len(k) > 1])),
        "responses": responses
    }

# 나머지 기존 데이터는 그대로 유지
GREETING_RESPONSES = [
    "안녕하세요! 차치업무 도우미입니다. 무엇을 도와드릴까요?",
    "반갑습니다! 어떤 차치업무로 문의하셨나요?",
    "안녕하세요! 필요한 정보를 찾아드리겠습니다.",
    "환영합니다! 차치업무 관련 도움이 필요하시면 말씀해주세요.",
    "좋은 하루입니다! 무엇을 도와드릴까요?"
]

DEFAULT_RESPONSES = [
    "죄송합니다. 잘 이해하지 못했어요. 다시 말씀해주세요.",
    "좀 더 구체적으로 말씀해주시면 도움을 드릴 수 있어요.",
    "다음 중 하나를 선택해주세요: " + ", ".join(HIERARCHICAL_WORK_DATA.keys()),
    "키워드를 포함해서 말씀해주시면 더 정확한 답변을 드릴 수 있습니다.",
    "차치업무 관련 카테고리를 선택하거나 구체적인 질문을 해주세요."
]

FAQ_DATA = {
    "DARWIN": "DARWIN은 병원 내 통합정보시스템입니다. 원내공통 메뉴에서 의료기기 관리, 물품청구, 구매의뢰 등을 할 수 있습니다.",
    "의공기술실": "의료기기 수리는 의공기술실에서 담당합니다. DARWIN 시스템을 통해 수리 요청을 하세요.",
    "도움말": "메인 카테고리를 선택하거나 '뒤로', '메인' 명령어를 사용하여 네비게이션할 수 있습니다."
}

TIME_GREETINGS = {
    "morning": "좋은 아침입니다! 오늘도 화이팅하세요!",
    "afternoon": "안녕하세요! 오후 업무도 파이팅입니다!",
    "evening": "저녁 시간 수고 많으십니다!",
    "night": "밤 근무 고생 많으십니다. 안전하게 근무하세요!"
}

EMERGENCY_KEYWORDS = {
    "응급": "즉시 응급실(2222)로 연락하세요! 응급상황 프로토콜을 시작합니다.",
    "화재": "화재신고 119! 병원 내 화재경보 시스템을 작동하세요!",
    "정전": "정전 시 비상전력 시스템을 확인하고 시설팀에 즉시 연락하세요.",
    "지진": "지진 시 환자 안전 확보 후 대피 프로토콜을 따르세요.",
    "코드블루": "심폐소생술팀 호출! 모든 가용 의료진 집합!"
}

DEPARTMENT_CONTACTS = {
    "의공기술실": "T.9233",
    "원무과": "내선 1400",
    "간호과": "내선 1100",
    "약무과": "내선 1300",
    "시설팀": "내선 1500",
    "정보지원팀": "T.3217",
    "통신실": "T.3333",
    "건축사무실": "T.9985",
    "인프라엔지니어링팀": "T.9115"
}
